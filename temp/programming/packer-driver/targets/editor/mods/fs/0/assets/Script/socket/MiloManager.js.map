{"version":3,"sources":["file:///D:/Office/mmo_movement/assets/Script/socket/MiloManager.ts"],"names":["MiloManager","users","balance","micEnabled","dataFromApp","userNum","window","location","href","split","userId","parseInt","user","initInfo","Object","assign","onGameInit","JSON","stringify","onGameOver","onGameStart","onError"],"mappings":";;;;;;;;;;;;;;6BACWA,W,GAAc,YAAY;AAEjC,cAAMC,KAAK,GAAG,CAAC;AACX,oBAAU,WADC;AAEX,oBAAU,kCAFC;AAGX,oBAAU,oDAHC;AAIX,0BAAgB,EAJL;AAKX,uBAAa,CALF;AAMX,sBAAY,OAND;AAOX,yBAAe,IAPJ;AAQX,sBAAY,gBARD;AASXC,UAAAA,OAAO,EAAE,GATE;AAUXC,UAAAA,UAAU,EAAE;AAVD,SAAD,EAYd;AACI,oBAAU,WADd;AAEI,oBAAU,kCAFd;AAGI,oBAAU,oDAHd;AAII,0BAAgB,EAJpB;AAKI,uBAAa,CALjB;AAMI,sBAAY,OANhB;AAOI,yBAAe,IAPnB;AAQI,sBAAY,gBARhB;AASID,UAAAA,OAAO,EAAE,GATb;AAUIC,UAAAA,UAAU,EAAE;AAVhB,SAZc,CAAd;AAyBA,cAAMC,WAAW,GAAG;AAChB,qBAAW,CAAC;AACR,mBAAO,KADC;AAER,oBAAQ,IAFA;AAGR,oBAAQ,SAHA;AAIR,6BAAiB,6FAJT;AAKR,sBAAU;AALF,WAAD,EAMR;AACC,mBAAO,KADR;AAEC,oBAAQ,KAFT;AAGC,oBAAQ,SAHT;AAIC,6BAAiB,6FAJlB;AAKC,sBAAU;AALX,WANQ;AADK,SAApB;AAiBA,YAAIC,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,EAAmCA,KAAnC,CAAyC,MAAzC,EAAiD,CAAjD,CAAd;AACA,YAAIC,MAAM,GAAGC,QAAQ,CAACN,OAAD,CAArB;AACA,YAAIO,IAAI,GAAGX,KAAK,CAACS,MAAM,GAAG,CAAV,CAAhB;AAEA,YAAIG,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBX,WAAlB,EAA+B;AAC1CS,UAAAA,QAAQ,EAAED;AADgC,SAA/B,CAAf;;AAIA,iBAASI,UAAT,GAAsB;AAClB,iBAAOC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAAP;AACH;;AAED,iBAASM,UAAT,GAAsB,CACrB;;AAED,iBAASC,WAAT,GAAuB,CACtB;;AAED,iBAASC,OAAT,GAAmB,CAClB;;AAED,eAAO;AACHL,UAAAA,UADG;AAEHG,UAAAA,UAFG;AAGHC,UAAAA,WAHG;AAIHC,UAAAA;AAJG,SAAP;AAMH,O","sourcesContent":["\r\nexport var MiloManager = function () {\r\n\r\n    const users = [{\r\n        \"userId\": \"mx-user-1\",\r\n        \"gameId\": \"86a01a92a84646e4ad33252f19b39385\",\r\n        \"roomId\": \"7d1b376b-0eee-4d53-bd91-3cda5de62b43-1625715627668\",\r\n        \"highestScore\": 90,\r\n        \"lastLevel\": 0,\r\n        \"gameMode\": \"score\",\r\n        \"isFirstOpen\": true,\r\n        \"roomType\": \"public/private\",\r\n        balance: 100,\r\n        micEnabled: true,\r\n    },\r\n    {\r\n        \"userId\": \"mx-user-2\",\r\n        \"gameId\": \"86a01a92a84646e4ad33252f19b39385\",\r\n        \"roomId\": \"7d1b376b-0eee-4d53-bd91-3cda5de62b43-1625715627668\",\r\n        \"highestScore\": 90,\r\n        \"lastLevel\": 0,\r\n        \"gameMode\": \"score\",\r\n        \"isFirstOpen\": true,\r\n        \"roomType\": \"public/private\",\r\n        balance: 100,\r\n        micEnabled: true,\r\n    }];\r\n\r\n    const dataFromApp = {\r\n        \"players\": [{\r\n            \"bot\": false,\r\n            \"host\": true,\r\n            \"name\": \"Player1\",\r\n            \"profilePicUrl\": \"https://i.picsum.photos/id/177/200/200.jpg?hmac=785Vry8HsdS9dQ7mFYbwV8bR2tWVtzJWWl9YLp6L0n8\",\r\n            \"userId\": \"mx-user-1\"\r\n        }, {\r\n            \"bot\": false,\r\n            \"host\": false,\r\n            \"name\": \"Player2\",\r\n            \"profilePicUrl\": \"https://i.picsum.photos/id/445/200/300.jpg?hmac=7dfJBQTfK8boCS5_EXpFW8SC_8VKMgDw5yFInpEee4s\",\r\n            \"userId\": \"mx-user-2\"\r\n        }]\r\n    };\r\n\r\n\r\n    var userNum = window.location.href.split('?')[1].split(\"user\")[1];\r\n    var userId = parseInt(userNum);\r\n    var user = users[userId - 1];\r\n\r\n    var initInfo = Object.assign({}, dataFromApp, {\r\n        initInfo: user\r\n    });\r\n\r\n    function onGameInit() {\r\n        return JSON.stringify(initInfo)\r\n    }\r\n\r\n    function onGameOver() {\r\n    }\r\n\r\n    function onGameStart() {\r\n    }\r\n\r\n    function onError() {\r\n    }\r\n\r\n    return {\r\n        onGameInit,\r\n        onGameOver,\r\n        onGameStart,\r\n        onError\r\n    }\r\n}"]}